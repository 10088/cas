<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:jaxws="http://cxf.apache.org/jaxws"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:http="http://cxf.apache.org/transports/http/configuration"
       xmlns:util="http://www.springframework.org/schema/util" 
       xsi:schemaLocation="http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans-2.0.xsd
        http://cxf.apache.org/jaxws
        http://cxf.apache.org/schemas/jaxws.xsd
        http://www.springframework.org/schema/util
        http://www.springframework.org/schema/util/spring-util.xsd
        http://cxf.apache.org/transports/http/configuration
        http://cxf.apache.org/schemas/configuration/http-conf.xsd">

    <jaxws:endpoint id="transportSTSRealmA" implementor="#transportSTSProviderBean"
                    address="/REALMA/STSServiceTransport"
                    wsdlLocation="classpath:/wsdl/ws-trust-1.4-service.wsdl"
                    xmlns:ns1="http://docs.oasis-open.org/ws-sx/ws-trust/200512/"
                    serviceName="ns1:SecurityTokenService" 
                    endpointName="ns1:Transport_Port">
        <jaxws:properties/>
    </jaxws:endpoint>

    <jaxws:endpoint id="transportSTSRealmB" 
                    implementor="#transportSTSProviderBean"
                    address="/REALMB/STSServiceTransport" 
                    wsdlLocation="classpath:/wsdl/ws-trust-1.4-service.wsdl"
                    xmlns:ns1="http://docs.oasis-open.org/ws-sx/ws-trust/200512/"
                    serviceName="ns1:SecurityTokenService" 
                    endpointName="ns1:Transport_Port">
        <jaxws:properties/>
    </jaxws:endpoint>

    <jaxws:endpoint id="transportSTSRealmAUT"
                    implementor="#transportSTSProviderBean"
                    address="/REALMA/STSServiceTransportUT"
                    wsdlLocation="classpath:/wsdl/ws-trust-1.4-service.wsdl"
                    xmlns:ns1="http://docs.oasis-open.org/ws-sx/ws-trust/200512/"
                    serviceName="ns1:SecurityTokenService" 
                    endpointName="ns1:TransportUT_Port">
        <jaxws:properties>
            <entry key="ws-security.callback-handler" value-ref="upCallBackHandlerRealmA"/>
        </jaxws:properties>
    </jaxws:endpoint>

    <jaxws:endpoint id="transportSTSRealmBUT"
                    implementor="#transportSTSProviderBean"
                    address="/REALMB/STSServiceTransportUT"
                    wsdlLocation="classpath:/wsdl/ws-trust-1.4-service.wsdl"
                    xmlns:ns1="http://docs.oasis-open.org/ws-sx/ws-trust/200512/"
                    serviceName="ns1:SecurityTokenService" endpointName="ns1:TransportUT_Port">
        <jaxws:properties>
            <entry key="ws-security.callback-handler" value-ref="upCallBackHandlerRealmB"/>
        </jaxws:properties>
    </jaxws:endpoint>


    <!-- ///////////// -->
    <util:map id="REALMA">
        <entry key="alice" value="ecila" />
        <entry key="bob" value="bob" />
        <entry key="ted" value="det" />
        <entry key="idp-user" value="idp-pass" />
    </util:map>

    <util:map id="REALMB">
        <entry key="ALICE" value="ECILA" />
        <entry key="BOB" value="BOB" />
        <entry key="TED" value="DET" />
    </util:map>
    
    <bean id="upCallBackHandlerRealmA" class="org.apereo.cas.support.UsernamePasswordCallbackHandler">
        <property name="passwords" ref="REALMA"/>
    </bean>

    <bean id="upCallBackHandlerRealmB" class="org.apereo.cas.support.UsernamePasswordCallbackHandler">
        <property name="passwords" ref="REALMB"/>
    </bean>


</beans>

